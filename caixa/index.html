<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Firebase</title>
  <link rel="stylesheet" href="style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
</head>
<body>
  <div class="container">
    <div class="card" id="login-box">
      <h2>Login</h2>
      <input type="email" id="login-email" placeholder="E-mail">
      <input type="password" id="login-password" placeholder="Senha">
      <button onclick="loginPrincipal()">Entrar na Principal</button>
      <button onclick="loginExcluir()">Ir para Excluir Conta</button>
      <p>Não tem conta? <a href="#" onclick="mostrarCadastro()">Cadastrar</a></p>
      <p id="mensagem-login"></p>
    </div>

    <div class="card" id="cadastro-box" style="display: none;">
      <h2>Criar Conta</h2>
      <input type="text" id="cadastro-nome" placeholder="Nome completo">
      <input type="email" id="cadastro-email" placeholder="E-mail">
      <input type="password" id="cadastro-password" placeholder="Senha">
      <button onclick="cadastro()">Cadastrar</button>
      <p>Já tem conta? <a href="#" onclick="mostrarLogin()">Entrar</a></p>
      <p id="mensagem-cadastro"></p>
    </div>
  </div>

  <script>
    const firebaseConfig = {
      // suas credenciais
	  	apiKey: "AIzaSyBTCmlsVHFVqsdtgjT31rohV07kpcYbP4o",
  authDomain: "teste-91a58.firebaseapp.com",
  databaseURL: "https://teste-91a58-default-rtdb.firebaseio.com",
  projectId: "teste-91a58",
  storageBucket: "teste-91a58.firebasestorage.app",
  messagingSenderId: "992341314783",
  appId: "1:992341314783:web:fdd6eae1645bcf6e846d6a",
  measurementId: "G-E5F4982G9Y"
    };
    firebase.initializeApp(firebaseConfig);

    function loginPrincipal() {
      const email = document.getElementById("login-email").value;
      const password = document.getElementById("login-password").value;
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(() => window.location.href = "principal.html")
        .catch((error) => {
          document.getElementById("mensagem-login").innerText = "Erro: " + error.message;
        });
    }

    function loginExcluir() {
      const email = document.getElementById("login-email").value;
      const password = document.getElementById("login-password").value;
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(() => window.location.href = "excluir.html")
        .catch((error) => {
          document.getElementById("mensagem-login").innerText = "Erro: " + error.message;
        });
    }

    function cadastro() {
      const nome = document.getElementById("cadastro-nome").value;
      const email = document.getElementById("cadastro-email").value;
      const password = document.getElementById("cadastro-password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => userCredential.user.updateProfile({ displayName: nome }))
        .then(() => {
          document.getElementById("mensagem-cadastro").innerText = "Usuário cadastrado com sucesso!";
          mostrarLogin();
        })
        .catch((error) => {
          document.getElementById("mensagem-cadastro").innerText = "Erro: " + error.message;
        });
    }

    function mostrarCadastro() {
      document.getElementById("login-box").style.display = "none";
      document.getElementById("cadastro-box").style.display = "block";
    }

    function mostrarLogin() {
      document.getElementById("cadastro-box").style.display = "none";
      document.getElementById("login-box").style.display = "block";
    }
  </script>
</body>
</html>
